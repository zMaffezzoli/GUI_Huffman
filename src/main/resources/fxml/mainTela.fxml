<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane fitToWidth="true" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.mycompany.huffman.controller.MainControlador"
            styleClass="root-scroll">
    <content>
        <VBox styleClass="main-container">

            <Label text="Compressor de Huffman" styleClass="app-title"/>

            <TabPane fx:id="painelAbasEntrada" tabClosingPolicy="UNAVAILABLE" styleClass="input-tab-pane">
                <!-- Quadrado para escrever -->
                <Tab fx:id="abaTexto" text="Digitar Texto">
                    <VBox styleClass="tab-content">
                        <TextArea fx:id="areaTexto" promptText="Digite o texto aqui..." wrapText="true" styleClass="input-text-area"/>
                        <HBox styleClass="button-bar">
                            <Button text="Colocar Exemplo" onAction="#acaoColarExemplo" styleClass="btn-secondary"/>
                            <Button text="Limpar Texto" onAction="#acaoLimparTexto" styleClass="btn-danger"/>
                        </HBox>
                    </VBox>
                </Tab>
                <!-- Área para carregar arquivo -->
                <Tab text="Carregar Arquivo">
                    <HBox styleClass="tab-content-file">
                        <Button text="Selecionar Arquivo .txt" onAction="#acaoSelecionarArquivo" styleClass="btn-secondary"/>
                        <Label fx:id="rotuloArquivo" text="Nenhum arquivo selecionado" styleClass="label-placeholder"/>
                    </HBox>
                </Tab>
            </TabPane>
            <!-- Botão para chamar as funções -->
            <HBox styleClass="action-container">
                <Button text="COMPRIMIR E GERAR ÁRVORE" onAction="#acaoProcessar" styleClass="btn-primary"/>
            </HBox>
            <!-- Tabela frequencia -->
            <HBox styleClass="data-container">
                <VBox styleClass="column-container" HBox.hgrow="ALWAYS">
                    <Label text="Frequências" styleClass="section-subtitle"/>
                    <TableView fx:id="tabelaFreq" styleClass="modern-table" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colSimboloFreq" text="Símbolo"/>
                            <TableColumn fx:id="colFrequencia" text="Qtd"/>
                        </columns>
                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
                    </TableView>
                </VBox>
                <!-- Tabela codigos -->
                <VBox styleClass="column-container" HBox.hgrow="ALWAYS">
                    <Label text="Códigos Gerados" styleClass="section-subtitle"/>
                    <TableView fx:id="tabelaCodigos" styleClass="modern-table" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colSimboloCodigo" text="Símbolo"/>
                            <TableColumn fx:id="colCodigo" text="Binário"/>
                        </columns>
                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
                    </TableView>
                </VBox>

                <VBox styleClass="column-container" HBox.hgrow="ALWAYS">
                    <Label text="Resultado Final" styleClass="section-subtitle"/>
                    <TextArea fx:id="saidaBinaria" editable="false" wrapText="true" styleClass="output-area" VBox.vgrow="ALWAYS"/>
                </VBox>
            </HBox>
            <!-- Textos adicionais -->
            <VBox styleClass="tree-container">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Visualização da Árvore" styleClass="section-title"/>
                    <Label text="(Arraste para mover, Ctrl + Scroll para zoom)" style="-fx-font-size: 11px; -fx-text-fill: #95a5a6;"/>
                </HBox>
                <!-- Onde desenha a árvore -->
                <StackPane fx:id="viewportArvore" styleClass="tree-viewport">
                    <Pane fx:id="painelArvore" styleClass="tree-canvas"/>
                </StackPane>
            </VBox>

        </VBox>
    </content>
</ScrollPane>